{% extends 'base.html' %}
{% load i18n %}

{% block content %}

{% if user.is_staff %}
<h1 style="text-align: center;">All Notifications</h1>

<div class="container">

<section class="content-header" style="padding-bottom: 30px;">
  <table class="table table-striped">
  	<thead>
  		<tr>
  			<th scope="col">
  				<div class="pull-right search">
                    <div class="input-group">
                        <form method='GET'>
                           <input type='text' name='q' placeholder='Search posts' value='{{ request.GET.q }}' />
                           <input type='submit' value='Search' />
                        </form>
                    </div>
  				</div>
  			</th>
			{% if user.is_authenticated %}
  			<th scope="col"><a href="{% url 'notification_new' %}" class="btn btn-primary pull-right">Create New</a></th>
  			{% endif %}
  		</tr>
  	</thead>
  </table>
</section>


<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Title</th>
      <th scope="col">Body</th>
      <th scope="col">Image</th>
      <th scope="col">Created At</th>
    </tr>
  </thead>
  <tbody>

  	{% for object in page_obj %}
    <tr>
      <th scope="row">{{ object.id }}</th>
      <td>{{ object.title }}</td>
      <td>{{ object.body }}</td>
      <td><a href="{{ object.url }}">{{ object.image }}</a></td>
      <td>{{ object.created_at }}</td>
    </tr>
    {% endfor %}

    <tr>
  </tbody>
</table>

<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">&laquo; first</a>
            <a href="?page={{ page_obj.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}">last &raquo;</a>
        {% endif %}
    </span>
</div>

</div>

{% endif %}

{% endblock content %}